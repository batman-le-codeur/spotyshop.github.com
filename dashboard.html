<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Tableau de bord</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f2f2f2;
    padding: 20px;
  }
  .container {
    background: white;
    padding: 20px;
    border-radius: 8px;
    max-width: 400px;
    margin: auto;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }
  input, button {
    width: 100%;
    padding: 10px;
    margin: 5px 0;
  }
  button {
    background: #fb923c;
    color: white;
    border: none;
    cursor: pointer;
  }
  button:hover {
    background: #ec4899;
  }
  .result {
    margin-top: 20px;
    padding: 10px;
    background: #eee;
    border-radius: 5px;
  }
</style>
</head>
<body>

<div class="container">
  <h2>Vérifier vos gains</h2>
  <input type="text" id="nom" placeholder="Votre nom">
  <input type="text" id="telephone" placeholder="Votre numéro">
  <button onclick="verifier()">Vérifier</button>

  <div class="result" id="result"></div>
</div>

<script>
function verifier() {
  let nom = document.getElementById("nom").value;
  let telephone = document.getElementById("telephone").value;

  fetch(`https://script.google.com/macros/s/AKfycbzuNMqAG5MKBKpX9fuI3UAQz8pjYQgIA2HayzTO_D1n-XV5mITJRZO1M6uBDgVTrW6j/exec?nom=${encodeURIComponent(nom)}&telephone=${encodeURIComponent(telephone)}`)
    .then(res => res.json())
    .then(data => {
      let resultDiv = document.getElementById("result");
      if (data.error) {
        resultDiv.innerHTML = `<strong style="color:red">${data.error}</strong>`;
      } else {
        resultDiv.innerHTML = `
          <strong>Nom :</strong> ${data.nom}<br>
          <strong>Téléphone :</strong> ${data.telephone}<br>
          <strong>Code promo :</strong> ${data.codepromo}<br>
          <strong>Montant généré :</strong> ${data.montant} FCFA
        `;
      }
    })
    .catch(err => {
      document.getElementById("result").innerHTML = `<strong style="color:red">Erreur : ${err}</strong>`;
    });
}
</script>

</body>
</html>
